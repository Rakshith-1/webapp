Installation of kubectl, eksctl, docker, git, helm and terraform on the client-machine.

1. Install kubectl on AWS linux 2 machine
sudo su
curl -O https://s3.us-west-2.amazonaws.com/amazon-eks/1.23.15/2023-01-11/bin/linux/amd64/kubectl
chmod +x ./kubectl
mkdir -p $HOME/bin && cp ./kubectl $HOME/bin/kubectl && export PATH=$PATH:$HOME/bin
kubectl version
 

2. Install eksctl on AWS linux 2 machine
curl -sLO "https://github.com/eksctl-io/eksctl/releases/latest/download/eksctl_Linux_amd64.tar.gz"
tar -zxvf eksctl_Linux_amd64.tar.gz
chmod +x ./eksctl; mkdir -p $HOME/bin && cp ./eksctl $HOME/bin/eksctl && export PATH=$HOME/bin:$PATH
echo 'export PATH=$HOME/bin:$PATH' >> ~/.bashrc
eksctl version
 

3. Install docker on AWS linux 2 machine
yum install docker 


4. Install terraform on AWS linux 2 machine
wget https://releases.hashicorp.com/terraform/1.6.5/terraform_1.6.5_linux_amd64.zip
unzip terraform_1.6.5_linux_amd64.zip
chmod +x ./terraform; mkdir -p $HOME/bin && cp ./terraform $HOME/bin/terraform && export PATH=$HOME/bin:$PATH
echo 'export PATH=$HOME/bin:$PATH' >> ~/.bashrc
terraform -v
 

5. Install GIT on AWS linux 2 machine
yum install git
 

6. Install helm on AWS linux 2 machine
curl https://raw.githubusercontent.com/helm/helm/master/scripts/get-helm-3 > get_helm.sh
chmod 700 get_helm.sh
DESIRED_VERSION=v3.8.2 bash get_helm.sh
cp /usr/local/bin/helm $HOME/bin/helm && export PATH=$HOME/bin:$PATH
echo 'export PATH=$HOME/bin:$PATH' >> ~/.bashrc
helm version
 


7. Install Grafana 
wget https://dl.grafana.com/enterprise/release/grafana-enterprise-10.2.2.linux-amd64.tar.gz
tar -zxvf grafana-enterprise-10.2.2.linux-amd64.tar.gz
mkdir -p /opt/grafana
mv grafana-v10.2.2/ /opt/grafana/
cd /opt/grafana/grafana-v10.2.2/bin/
nohup ./grafana-server &
Username: admin
Password: admin


7. Install Prometheus
cd /home/ec2-user/web-app-deployment-on-cloud/terraform-scripts/prometheus
vi prometheus.yaml
kubectl apply -f prometheus.yaml
vi prometheus-service.yaml
kubectl apply -f prometheus-service.yaml
kubectl get services prometheus-service -o wide
(grafana-import-dashboard- number - 1860 and then select prometheus )
